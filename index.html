<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { 
            margin: 0; 
            padding: 0;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
        }
    </style>
</head>
<body>
    <div id="unity-container"></div>
    
    <script>
        // Инициализация Telegram Web App
        let tg = window.Telegram.WebApp;
        tg.expand(); // Раскрываем на весь экран
        tg.enableClosingConfirmation(); // Подтверждение закрытия
        
        // Получаем данные пользователя
        const user = tg.initDataUnsafe.user;
        console.log('Telegram user:', user);
        
        // Отправка данных в Unity
        function sendToUnity(message) {
            if (unityInstance) {
                unityInstance.SendMessage('WebClient', 'ShowMessage', message);
            }
        }
        
        // Получение данных из Unity
        function fromUnity(message) {
            // Можно отправить данные обратно в Telegram
            tg.sendData(JSON.stringify({action: "unity", data: message}));
        }
        
        // Кнопка "Назад" в Telegram
        tg.BackButton.onClick(() => {
            tg.close();
        });
    </script>
</body>
<<<<<<< HEAD
</html>
=======
</html>
>>>>>>> 7b7025b4a28a895b8189a24005af51cac385d159
